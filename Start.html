<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Compartmentalizer : R-Shiny app for compartmental modeling (Markov Chains, Markov Processes and Ordinary Differential Equations)">
    <link rel="shortcut icon" href="images/favicon.ico" />
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="./slick/slick.css">
    <link rel="stylesheet" type="text/css" href="./slick/slick-theme.css">
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
    <script src="javascripts/jquery-2.2.1.js"></script>
    <script src="javascripts/jquery-ui.js"></script>
    <script src="./slick/slick.js" type="text/javascript" charset="utf-8"></script>
    <script src="javascripts/main.js"></script>
    <script type="text/javascript">
    $(document).on('ready', function() {
      $(".regular").slick({
        dots: true,
        infinite: true,
        slidesToShow: 3,
        slidesToScroll: 3
      });
      $(".center").slick({
        dots: true,
        infinite: true,
        centerMode: true,
        slidesToShow: 3,
        slidesToScroll: 3
      });
      $(".variable").slick({
        dots: true,
        infinite: true,
        variableWidth: true
      });
    });
  </script>


    <title>Compartmentalizer</title>
  </head>

  <body style = "height:100%; background-color: #212121;">

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <p id="copyright"> by <a href="https://github.com/RodrigoZepeda">@RodrigoZepeda</a></p>
          <a id="forkme_banner" href="https://github.com/RodrigoZepeda/CompartmentalizeR">View on GitHub</a>
          <div style = "text-align: center; margin-top: 1%;">
              <a href="index.html"><img src="images/compartmentalizeR.png" alt="CompartmentalizeR" border = "0" style= "width:15%; height:15%; box-shadow: 0px 0px 0px; margin: 0 auto; margin-top: 0%;"></a>
            <h1 id="project_title" style ="margin-top: 0%">CompartmentalizeR</h1>
          </div>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
        Worked example
        </h2>
        <p>We’ll start with a model from epidemiology: the SI model. In this case people are assumed to be either Susceptible to a disease (S) or Infected by the disease (I). Let’s do it!</p>
        <div style =" width: 100%; text-align: center;">
          <section class="variable slider" style = "text-align: center;">
              <div>
                <img src = "images/example1.png" style = "text-align: center;" alt ="Click red square to create compartment" />
              </div>
              <div>  
                <img src = "images/example2.png" style = "text-align: center;" alt = "Drag around compartments with mouse"/>
              </div>
              <div>  
                <img src = "images/example3.png" style = "width: 82%;  text-align: center;" alt = "Drag and drop arrows to connect nodes"/>
              </div>
              <div>   
                <img src = "images/example4.png" style = "width: 82%;  text-align: center;" alt = "Establish relationship type"/>
              </div>
              <div>   
                <img src = "images/example5.png" style = "width: 82%;  text-align: center;" alt = "Choose starting values"/>
              </div>
              <div>   
                <img src = "images/example6.png" style = "width: 82%;  text-align: center;" alt = "Choose rates"/>
              </div>
              <div>   
                <img src = "images/example7.png" style = "width: 82%;  text-align: center;" alt = "Name your variables"/>
              </div>
              <div>   
                <img src = "images/example8.png" style = "width: 82%;  text-align: center;" alt = "Save model"/>
              </div>
              <div>   
                <img src = "images/example9.png" style = "width: 82%;  text-align: center;" alt = "Simulate"/>
              </div>
              <div>   
                <img src = "images/example10.png" style = "width: 82%;  text-align: center;" alt ="Wait for simulation" />
              </div>
              <div>   
                <img src = "images/example11.png" style = "width: 82%;  text-align: center;" alt = "Go to plots panel"/>
              </div>
              <div>   
                <img src = "images/example12.png" style = "width: 82%;  text-align: center;" alt = "Add title"/>
              </div>
              <div>   
                <img src = "images/example13.png" style = "width: 82%;  text-align: center;" alt = "Customize colors"/>
              </div>
              <div>   
                <img src = "images/example14.png" style = "width: 82%;  text-align: center;" alt = "Choose variables"/>
              </div>
              <div>   
                <img src = "images/example15.png" style = "width: 82%;  text-align: center;" alt = "Download plot"/>
              </div>
              <div>   
                <img src = "images/example16.png" style = "width: 82%;  text-align: center;" alt = "Export panel"/>
              </div>
              <div>   
                <img src = "images/example17.png" style = "width: 82%;  text-align: center;" alt = "Options panel"/>
              </div>  
          </section>
        </div>
        <h2 style = "margin-top: 10%;">
        Additional things you should know
        </h2>
        <h3>
        Deleting stuff
        </h3>
        <div style =" width: 100%; text-align: center;">
          <section class="variable slider" style = "text-align: center;">        
              <div>
                <img src = "images/example18.png" style = "width: 82%; text-align: center;" alt = "Deleting arrows"/>
              </div>
              <div>
                 <img src = "images/example19.png" style = "width: 82%; text-align: center;" alt = "Deleting compartments"/>
              </div>
              <div>
                <img src = "images/example20.png" style = "width: 82%; text-align: center;" alt = "Deleting everything"/>
              </div>
          </section>
        </div>
        <h3>
        Saving and Loading
        </h3>
        <div style =" width: 100%; text-align: center;">
          <section class="variable slider" style = "text-align: center;">        
              <div>
                <img src = "images/saving.png" style = "width: 82%; text-align: center;" alt ="Save" />
              </div>
              <div>
                 <img src = "images/load.png" style = "width: 82%; text-align: center;" alt = "Load"/>
              </div>
          </section>
        </div>
        <h3>Input</h3>
        <div style =" width: 100%; text-align: center;">
          <section class="variable slider" style = "text-align: center;">        
              <div>
                  <img src = "images/input.png" style = "width: 82%; text-align: center;" alt = "Inputs"/>
              </div>
              <div>
                <img src = "images/input1.png" style = "width: 82%; text-align: center;" alt ="Inputs xs" />
                <div style = "width: 82%;">
                    <p>Variables should be coded as entries from an R <code>vector</code> named <code>x</code>. The code:</p>
                    <pre class="r"><code>2*x[1]*x[2]</code></pre>
                    <p>establishes the product of variables \(x_1\), and \(x_2\) times \(2\)</p>
                </div>
              </div>
              <div>
                <img src = "images/input2.png" style = "width: 82%; text-align: center;" alt ="Inputs constants" />
                <div style = "width: 82%;">
                    <p>Constants instantiated in the model are inside an R <code>matrix</code> named <code>omega</code>. The code:</p>
                    <pre class="r"><code>omega[1,2]*x[1]*x[2]</code></pre>
                    <p>establishes the product of variables \(x_1\), and \(x_2\) and the constant \(\omega_{1 \to 2}\)</p>
                </div>
              </div>
              <div>
                <img src = "images/input3.png" style = "width: 82%; text-align: center;" alt = "Inputs functions"/>
                <div style = "width: 82%;">
                    <p>You can also use an R <code>function</code> such as <code>log</code>, <code>exp</code>, <code>sin</code>, <code>cos</code>, <code>tan</code>, etc in your code:</p>
                    <pre class="r"><code>omega[1,2]*sin(x[1])*log(x[2])</code></pre>
                </div>
              </div>              
          </section>
        </div>        
        <h3>
        Options
        </h3>
        <p> Options are set on the <strong> Options </strong> panel. These include: </p>
            <ul id = "options">
                <li><b>Maximum time:</b> Amount of time for simulating the processes. Notice that all processes start at time <code> t = 0 </code>.</li>
                <li><b>Time step:</b> Time step for the simulations. In the case of <code> Ordinary Differential Equations </code> refers to the time step taken to create the numerical approximation. In the case of <code> Discrete Time Markov Chains </code> refers to the discrete time lapses.</li>
                <li><b>Differential Equation Solver: </b> The method the package <code> deSolve </code> uses for numerically approximating the <code> Ordinary Differential Equations </code>.
                <li><b>Number of Simulations:</b> Number of Simulations for <code> Continuous Time Markov Chains </code> or <code> Discrete Time Markov Chains </code></li>
                <li><b>Seed for Simulation: </b> Wrapper for the <code> set.seed </code> function for setting a seed for the simulations.</li>
                <li><b>Stochastic Simulation Algorithm:</b> The method the package <code> GillespieSSA </code> uses for numerically approximating the <code> Continuous Time Markov Chains </code>.
            </ul>
        <h3>
        Error messages
        </h3>
        
        <p> Error messages are passed directly to the R console. Keep an eye on the console to check that no errors have been generated</p>
        <img src ="images/error.png" style ="width: 50%; margin-left: 25%;" alt = "Error messages"/>
    </section>  
        <div style = "height: 55px; width: 100%;"> </div>
    </div>
    
    <!-- Bottom navbar-->
    <!-- Bottom navbar-->
    <ul  class="podbar" style = "margin-top: 40%; margin-bottom: 0%; text-align: center; position: fixed ;  background-color: #212121; width: 100%; height: 50px">
        <li class = "About">About</li>
        <li class = "Install">Install</li>
        <li class = "Start">Start</li>
        <li class = "Examples">Examples</li>
        <!--<li class = "Videos">Videos</li>
        <li class = "Theory">Theory</li>-->
    </ul>

  </body>
</html>

